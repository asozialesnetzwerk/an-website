{
  "version": 3,
  "sources": ["../../../swapped_words/swap.ts"],
  "sourcesContent": ["// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-3.0-or-later\n(() => {\n    const textInput = elById(\"text\") as HTMLInputElement;\n    const configInput = elById(\"config-textarea\") as HTMLTextAreaElement;\n    const outputText = elById(\"output\")!;\n    const errorText = elById(\"error-msg\") as HTMLDivElement;\n\n    if (errorText.innerHTML.trim()) {\n        alert(errorText.innerHTML.trim());\n    }\n\n    function onerror(\n        e: { error: string | null; line_num: number; line: string },\n    ) {\n        console.error(e);\n        if (e.error) {\n            alert(e.error);\n            errorText.innerText =\n                `${e.error} In line ${e.line_num}: \"${e.line}\"`;\n        } else {\n            alert(e);\n            errorText.innerText = JSON.stringify(e);\n        }\n    }\n    interface SwappedWordsData { // this is a mix of error data and success data\n        stateType: string;\n        error: string | null;\n        line_num: number;\n        line: string;\n        text: string;\n        config: string;\n        replaced_text: string;\n    }\n    function ondata(\n        data: SwappedWordsData,\n        onpopstate = false,\n    ) {\n        if (!data) {\n            console.log(\"data is falsy!\");\n            return;\n        }\n        if (data.error) {\n            return onerror(data);\n        }\n        if (!onpopstate) {\n            data.stateType = \"swappedWords\";\n            window.history.pushState(\n                data,\n                \"Vertauschte WÃ¶rter\",\n                window.location.href,\n            );\n        }\n        textInput.value = data.text || \"\";\n        configInput.value = data.config || \"\";\n        outputText.innerText = data.replaced_text || \"\";\n        errorText.innerText = \"\";\n    }\n\n    (elById(\"form\") as HTMLFormElement).onsubmit = (e) => {\n        e.preventDefault();\n    };\n    (elById(\"reset\")!).onclick = () =>\n        post(\n            \"/api/vertauschte-woerter\",\n            {\n                text: textInput.value,\n                minify_config: false,\n                return_config: true,\n            },\n            ondata,\n            onerror,\n        );\n    (elById(\"submit\")!).onclick = () =>\n        post(\n            \"/api/vertauschte-woerter\",\n            {\n                text: textInput.value || \"\",\n                config: configInput.value || \"\",\n                minify_config: false,\n                return_config: true,\n            },\n            ondata,\n            onerror,\n        );\n\n    PopStateHandlers.swappedWords = (event: PopStateEvent) => {\n        event.state && ondata(event.state as SwappedWordsData, true);\n    };\n})();\n// @license-end\n"],
  "mappings": "aAAA;AAAA,CACC,IAAM,CACH,MAAMA,EAAY,OAAO,MAAM,EACzBC,EAAc,OAAO,iBAAiB,EACtCC,EAAa,OAAO,QAAQ,EAC5BC,EAAY,OAAO,WAAW,EAEhCA,EAAU,UAAU,KAAK,GACzB,MAAMA,EAAU,UAAU,KAAK,CAAC,EAGpC,SAASC,EACL,EACF,CACE,QAAQ,MAAM,CAAC,EACX,EAAE,OACF,MAAM,EAAE,KAAK,EACbD,EAAU,UACN,GAAG,EAAE,iBAAiB,EAAE,cAAc,EAAE,UAE5C,MAAM,CAAC,EACPA,EAAU,UAAY,KAAK,UAAU,CAAC,EAE9C,CAUA,SAASE,EACLC,EACAC,EAAa,GACf,CACE,GAAI,CAACD,EAAM,CACP,QAAQ,IAAI,gBAAgB,EAC5B,MACJ,CACA,GAAIA,EAAK,MACL,OAAOF,EAAQE,CAAI,EAElBC,IACDD,EAAK,UAAY,eACjB,OAAO,QAAQ,UACXA,EACA,qBACA,OAAO,SAAS,IACpB,GAEJN,EAAU,MAAQM,EAAK,MAAQ,GAC/BL,EAAY,MAAQK,EAAK,QAAU,GACnCJ,EAAW,UAAYI,EAAK,eAAiB,GAC7CH,EAAU,UAAY,EAC1B,CAEC,OAAO,MAAM,EAAsB,SAAY,GAAM,CAClD,EAAE,eAAe,CACrB,EACC,OAAO,OAAO,EAAI,QAAU,IACzB,KACI,2BACA,CACI,KAAMH,EAAU,MAChB,cAAe,GACf,cAAe,EACnB,EACAK,EACAD,CACJ,EACH,OAAO,QAAQ,EAAI,QAAU,IAC1B,KACI,2BACA,CACI,KAAMJ,EAAU,OAAS,GACzB,OAAQC,EAAY,OAAS,GAC7B,cAAe,GACf,cAAe,EACnB,EACAI,EACAD,CACJ,EAEJ,iBAAiB,aAAgBI,GAAyB,CACtDA,EAAM,OAASH,EAAOG,EAAM,MAA2B,EAAI,CAC/D,CACJ,GAAG,EACH;",
  "names": ["textInput", "configInput", "outputText", "errorText", "onerror", "ondata", "data", "onpopstate", "event"]
}
