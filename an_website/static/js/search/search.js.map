{
  "version": 3,
  "sources": ["../../../search/search.ts"],
  "sourcesContent": ["// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt GNU-AGPL-3.0-or-later\n\"use strict\";\n\n(() => {\n    const resultsList = elById(\"search-results\") as HTMLElement;\n    const searchForm = elById(\"search-form\") as HTMLFormElement;\n    const searchInput = elById(\"search-input\") as HTMLInputElement;\n\n    interface Result {\n        score: number;\n        title: string;\n        url: string;\n        description: string;\n    }\n\n    function displayResults(results: Result[]) {\n        resultsList.innerHTML = \"\";\n        for (const result of results) {\n            const resultElement = document.createElement(\"li\");\n            resultElement.setAttribute(\"score\", String(result[\"score\"]));\n            resultElement.innerHTML = `<a href='${result.url}'>` +\n                `${result.title}</a> ${result.description}`;\n            resultsList.appendChild(resultElement);\n        }\n    }\n\n    PopStateHandlers[\"search\"] = (event: PopStateEvent) => {\n        const state = event.state as { query: string; results: Result[] };\n        searchInput.value = state.query;\n        displayResults(state.results);\n    };\n\n    searchForm.onsubmit = (e: Event) => {\n        e.preventDefault();\n        return get(\"/api/suche\", \"q=\" + searchInput.value, (data) => {\n            displayResults(data as Result[]);\n            setURLParam(\n                \"q\",\n                searchInput.value,\n                {\n                    query: searchInput.value,\n                    results: data as Result[],\n                },\n                \"search\",\n                true,\n            );\n        });\n    };\n})();\n// @license-end\n"],
  "mappings": "aAAA;AAAA,CAGC,IAAM,CACH,MAAMA,EAAc,OAAO,gBAAgB,EACrCC,EAAa,OAAO,aAAa,EACjCC,EAAc,OAAO,cAAc,EASzC,SAASC,EAAeC,EAAmB,CACvCJ,EAAY,UAAY,GACxB,UAAWK,KAAUD,EAAS,CAC1B,MAAME,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,aAAa,QAAS,OAAOD,EAAO,KAAQ,CAAC,EAC3DC,EAAc,UAAY,YAAYD,EAAO,QACtCA,EAAO,aAAaA,EAAO,cAClCL,EAAY,YAAYM,CAAa,CACzC,CACJ,CAEA,iBAAiB,OAAaC,GAAyB,CACnD,MAAMC,EAAQD,EAAM,MACpBL,EAAY,MAAQM,EAAM,MAC1BL,EAAeK,EAAM,OAAO,CAChC,EAEAP,EAAW,SAAYQ,IACnBA,EAAE,eAAe,EACV,IAAI,aAAc,KAAOP,EAAY,MAAQQ,GAAS,CACzDP,EAAeO,CAAgB,EAC/B,YACI,IACAR,EAAY,MACZ,CACI,MAAOA,EAAY,MACnB,QAASQ,CACb,EACA,SACA,EACJ,CACJ,CAAC,EAET,GAAG,EACH;",
  "names": ["resultsList", "searchForm", "searchInput", "displayResults", "results", "result", "resultElement", "event", "state", "e", "data"]
}
