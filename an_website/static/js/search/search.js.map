{
  "version": 3,
  "sources": ["../../../search/search.tsx"],
  "sourcesContent": ["// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-3.0-or-later\nimport {\n    e as getElementById,\n    get,\n    PopStateHandlers,\n    setURLParam,\n} from \"@utils/utils.js\";\n\nconst resultsList = getElementById(\"search-results\")!;\nconst searchForm = getElementById(\"search-form\") as HTMLFormElement;\nconst searchInput = getElementById(\"search-input\") as HTMLInputElement;\n\ninterface Result {\n    score: number;\n    title: string;\n    url: string;\n    description: string;\n}\n\nfunction displayResults(results: Result[]) {\n    resultsList.replaceChildren(\n        ...results.map((result) => (\n            <li data-score={result.score}>\n                <a href={result.url}>\n                    {[result.title]}\n                </a>\n                {\": \"}\n                {result.description}\n            </li>\n        )),\n    );\n}\n\nPopStateHandlers[\"search\"] = (event: PopStateEvent) => {\n    const state = event.state as { query: string; results: Result[] };\n    searchInput.value = state.query;\n    displayResults(state.results);\n};\n\nsearchForm.onsubmit = (e: Event) => {\n    e.preventDefault();\n    return get(\"/api/suche\", \"q=\" + searchInput.value, (data) => {\n        displayResults(data as Result[]);\n        setURLParam(\n            \"q\",\n            searchInput.value,\n            {\n                query: searchInput.value,\n                results: data as Result[],\n            },\n            \"search\",\n            true,\n        );\n    });\n};\n"],
  "mappings": "AACA,OACI,KAAKA,EACL,OAAAC,EACA,oBAAAC,EACA,eAAAC,MACG,+CAgBK,OACI,OAAAC,EADJ,QAAAC,MAAA,+CAtBZ;AAQA,IAAMC,EAAcN,EAAe,gBAAgB,EAC7CO,EAAaP,EAAe,aAAa,EACzCQ,EAAcR,EAAe,cAAc,EASjD,SAASS,EAAeC,EAAmB,CACvCJ,EAAY,gBACR,GAAGI,EAAQ,IAAKC,GACZN,EAAC,MAAG,aAAYM,EAAO,MACnB,UAAAP,EAAC,KAAE,KAAMO,EAAO,IACX,UAACA,EAAO,KAAK,EAClB,EACC,KACAA,EAAO,aACZ,CACH,CACL,CACJ,CAEAT,EAAiB,OAAaU,GAAyB,CACnD,IAAMC,EAAQD,EAAM,MACpBJ,EAAY,MAAQK,EAAM,MAC1BJ,EAAeI,EAAM,OAAO,CAChC,EAEAN,EAAW,SAAYO,IACnBA,EAAE,eAAe,EACVb,EAAI,aAAc,KAAOO,EAAY,MAAQO,GAAS,CACzDN,EAAeM,CAAgB,EAC/BZ,EACI,IACAK,EAAY,MACZ,CACI,MAAOA,EAAY,MACnB,QAASO,CACb,EACA,SACA,EACJ,CACJ,CAAC",
  "names": ["getElementById", "get", "PopStateHandlers", "setURLParam", "jsx", "jsxs", "resultsList", "searchForm", "searchInput", "displayResults", "results", "result", "event", "state", "e", "data"]
}
