// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-3.0-or-later
let n=String(window.location);export function getLastLocation(){return n}export function setLastLocation(t){n=t}export function post(t,o={},e=console.log,i=console.error,s="application/json"){return fetch(t,{method:"POST",body:JSON.stringify(o),headers:{Accept:s,"Content-Type":"application/json"}}).then(a=>a.json()).catch(i).then(e).catch(i)}export function get(t,o={},e=console.log,i=console.error,s="application/json"){return o&&(t+="?"+new URLSearchParams(o).toString()),fetch(t,{method:"GET",headers:{Accept:s}}).then(a=>a.json()).catch(i).then(e).catch(i)}export const PopStateHandlers={replaceURL:t=>{n===t.origin||window.location.reload()},URLParamChange:()=>{window.location.reload()}};export function setURLParam(t,o,e,i="URLParamChange",s=!0){const a=new URLSearchParams(window.location.search);a.set(t,o);const r=`${window.location.origin}${window.location.pathname}?${a.toString()}`;return e.stateType=i,s&&r!==window.location.href?history.pushState(e,r,r):history.replaceState(e,r,r),n=window.location.href,r}function c(){if(window.location.hash==="")return;const t=document.getElementById("header");if(!t)return;const o=document.querySelector(window.location.hash);o&&window.scrollBy(0,o.getBoundingClientRect().top-Math.floor(parseFloat(getComputedStyle(t).height)))}setTimeout(c,4);window.onhashchange=c;window.onpopstate=t=>{if(n.split("#")[0]===window.location.href.split("#")[0]){n=window.location.href,c();return}if(t.state){const o=t.state;if(o.stateType&&PopStateHandlers[o.stateType]){PopStateHandlers[o.stateType](t),n=window.location.href,t.preventDefault(),c();return}}console.error("Couldn't handle state. ",t.state),n=window.location.href,window.location.reload()};// @license-end
//# sourceMappingURL=utils.js.map
