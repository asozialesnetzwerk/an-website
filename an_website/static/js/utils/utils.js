// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-3.0-or-later
function c(){var t;(t=document.getElementById("site-pane"))==null||t.setAttribute("open","")}function l(){var t;(t=document.getElementById("site-pane"))==null||t.removeAttribute("open")}var u=document.getElementById("open-pane"),h=document.getElementById("site-pane");if(!u||!h)throw Error("open-pane or site-pane not found");var f=t=>t===u||t===h||h.contains(t);u.onmouseover=c,h.onmouseleave=l,document.onfocus=t=>{f(t.target)?c():l()},u.onclick=c,document.onclick=t=>{f(t.target)||l()};var s={x:null,y:null};document.ontouchstart=t=>{s.x=t.touches[0].clientX,s.y=t.touches[0].clientY},document.ontouchmove=t=>{if(s.x===null||s.y===null)return;let e=s.x-t.touches[0].clientX,n=s.y-t.touches[0].clientY;if(e===0&&n===0)return;s.x=null,s.y=null;let o=Math.max(12,.01*screen.width,n*1.5);Math.abs(e)>=o&&(e>0?c():l())};var i=String(location);function S(){return i}function x(t){i=t}function w(t,e={},n=console.log,o=console.error,r="application/json"){return fetch(t,{method:"POST",body:JSON.stringify(e),headers:{Accept:r,"Content-Type":"application/json"}}).then(a=>a.json()).catch(o).then(n).catch(o)}function L(t,e={},n=console.log,o=console.error,r="application/json"){let a=new URLSearchParams(e).toString();return fetch(a?"".concat(t,"?").concat(a):t,{method:"GET",headers:{Accept:r}}).then(p=>p.json()).catch(o).then(n).catch(o)}var g={URLParamChange:()=>{location.reload()}};function E(t,e,n,o="URLParamChange",r=!0){return y([[t,e]],n,o,r)}function y(t,e,n="URLParamChange",o=!0){let r=new URLSearchParams(location.search);for(let[p,m]of t)r.set(p,m);let a="".concat(location.origin).concat(location.pathname,"?").concat(r.toString());return e.stateType=n,o&&a!==location.href?history.pushState(e,a,a):history.replaceState(e,a,a),i=location.href,a}function d(){if(location.hash==="")return;let t=document.getElementById("header");if(!t)return;let e=document.querySelector(location.hash);e&&scrollBy(0,e.getBoundingClientRect().top-Math.floor(parseFloat(getComputedStyle(t).height)))}setTimeout(d,4),window.onhashchange=d,window.onpopstate=t=>{if(i.split("#")[0]===location.href.split("#")[0]){i=location.href,d();return}if(t.state){let e=t.state,n=g[e.stateType];if(n){t.preventDefault(),n(t),i=location.href,d();return}else console.error("Couldn't find state handler for state",e)}console.error("Couldn't handle state. ",t.state),i=location.href,location.reload()};export{g as PopStateHandlers,L as get,S as getLastLocation,l as hideSitePane,w as post,x as setLastLocation,y as setMultipleURLParams,E as setURLParam,c as showSitePane};
// @license-end
//# sourceMappingURL=utils.js.map
