// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-3.0-or-later
var m=document,E=(e,t,n)=>{e.addEventListener(t,n)},u=(e,t)=>{m.addEventListener(e,t)},d=m.getElementById("open-pane"),h=m.getElementById("site-pane");if(!d||!h)throw Error("open-pane or site-pane not found");var y=e=>{"".concat(e," sitePane"),h.setAttribute("state",e)},f=()=>{y("open")},c=()=>{y("close")},T=e=>e===d||e===h||h.contains(e);E(d,"mouseover",f),E(d,"mouseleave",c),u("focusin",e=>{T(e.target)?f():c()}),u("focusout",e=>{T(e.target)&&c()}),E(d,"click",f),u("click",e=>{T(e.target)||c()});var r={x:null,y:null};u("touchstart",e=>{var t,n,o,s;r.x=(n=(t=e.touches[0])==null?void 0:t.clientX)!=null?n:null,r.y=(s=(o=e.touches[0])==null?void 0:o.clientY)!=null?s:null}),u("touchmove",e=>{var s,a,i,p;if(r.x===null||r.y===null)return;let t=r.x-((a=(s=e.touches[0])==null?void 0:s.clientX)!=null?a:0),n=r.y-((p=(i=e.touches[0])==null?void 0:i.clientY)!=null?p:0);if(t===0&&n===0)return;r.x=null,r.y=null;let o=Math.max(12,.01*screen.width,n*1.5);Math.abs(t)>=o&&(t>0?f():c())});var L=document;function P(e){return L.getElementById(e)}var M=P,l=String(location);function w(e){l=e}function b(e,t={},n=console.log,o=console.error,s="application/json"){return fetch(e,{method:"POST",body:JSON.stringify(t),headers:{Accept:s,"Content-Type":"application/json"}}).then(a=>a.json()).catch(o).then(n).catch(o)}function H(e,t={},n=console.log,o=console.error,s="application/json"){let a=new URLSearchParams(t).toString();return fetch(a?"".concat(e,"?").concat(a):e,{method:"GET",headers:{Accept:s}}).then(i=>i.json()).catch(o).then(n).catch(o)}var v={URLParamChange:()=>{location.reload()}};function k(e,t,n,o="URLParamChange",s=!0){return x([[e,t]],n,o,s)}function x(e,t,n="URLParamChange",o=!0){let s=new URLSearchParams(location.search);for(let[i,p]of e)s.set(i,p);let a="".concat(location.origin).concat(location.pathname,"?").concat(s.toString());return t.stateType=n,o&&a!==location.href?history.pushState(t,a,a):history.replaceState(t,a,a),l=location.href,a}function g(){if(location.hash==="")return;let e=P("header");if(!e)return;let t=L.querySelector(location.hash);t&&scrollBy(0,t.getBoundingClientRect().top-Math.floor(parseFloat(getComputedStyle(e).height)))}setTimeout(g,4),window.onhashchange=g,window.onpopstate=e=>{if(l.split("#")[0]===location.href.split("#")[0]){l=location.href,g();return}if(e.state){let t=e.state,n=v[t.stateType];if(n){e.preventDefault(),n(e),l=location.href,g();return}else console.error("Couldn't find state handler for state",t)}console.error("Couldn't handle state. ",e.state),l=location.href,location.reload()};export{v as PopStateHandlers,L as d,M as e,H as get,c as hideSitePane,b as post,w as setLastLocation,x as setMultipleURLParams,k as setURLParam};
// @license-end
//# sourceMappingURL=utils.js.map
